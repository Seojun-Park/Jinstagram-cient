[{"/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomeContainer.tsx":"1","/Users/jinchulpark/react/jinstagram-client/src/Apollo/apollo.ts":"2","/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthHomeContainer.tsx":"3","/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomeQueries.ts":"4","/Users/jinchulpark/react/jinstagram-client/src/Hooks/Geocoding.ts":"5","/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthHomePresenter.tsx":"6","/Users/jinchulpark/react/jinstagram-client/src/Firebase/index.ts":"7","/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/index.ts":"8","/Users/jinchulpark/react/jinstagram-client/src/Components/Header/HeaderPresenter.tsx":"9","/Users/jinchulpark/react/jinstagram-client/src/Components/Header/HeaderStyles.ts":"10","/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxStyles.ts":"11","/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthHomeQueries.ts":"12","/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomePresenter.tsx":"13","/Users/jinchulpark/react/jinstagram-client/src/Components/Footer/index.ts":"14","/Users/jinchulpark/react/jinstagram-client/src/Components/Footer/FooterPresenter.tsx":"15","/Users/jinchulpark/react/jinstagram-client/src/Components/Footer/FooterStyles.ts":"16","/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomeStyles.ts":"17","/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxPresenter.tsx":"18","/Users/jinchulpark/react/jinstagram-client/src/Components/Header/index.ts":"19","/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxContainer.tsx":"20","/Users/jinchulpark/react/jinstagram-client/src/Components/Routes.tsx":"21","/Users/jinchulpark/react/jinstagram-client/src/sharedquaries.ts":"22","/Users/jinchulpark/react/jinstagram-client/src/Styles/Theme.ts":"23","/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/index.ts":"24","/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthStyles.ts":"25","/Users/jinchulpark/react/jinstagram-client/src/Components/App.tsx":"26","/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/index.ts":"27","/Users/jinchulpark/react/jinstagram-client/src/Apollo/authResolvers.ts":"28","/Users/jinchulpark/react/jinstagram-client/src/Hooks/useInput.ts":"29","/Users/jinchulpark/react/jinstagram-client/src/key.ts":"30","/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxQueries.ts":"31","/Users/jinchulpark/react/jinstagram-client/src/Components/Icon.tsx":"32","/Users/jinchulpark/react/jinstagram-client/src/Routes/Profile/ProfileContainer.tsx":"33","/Users/jinchulpark/react/jinstagram-client/src/Routes/Profile/ProfilePresenter.tsx":"34"},{"size":5480,"mtime":1610390689731,"results":"35","hashOfConfig":"36"},{"size":1978,"mtime":1609532563570,"results":"37","hashOfConfig":"36"},{"size":7036,"mtime":1609754981039,"results":"38","hashOfConfig":"36"},{"size":976,"mtime":1610377550225,"results":"39","hashOfConfig":"36"},{"size":577,"mtime":1609978607930,"results":"40","hashOfConfig":"36"},{"size":6819,"mtime":1609955562011,"results":"41","hashOfConfig":"36"},{"size":246,"mtime":1609955562010,"results":"42","hashOfConfig":"36"},{"size":84,"mtime":1609877259533,"results":"43","hashOfConfig":"36"},{"size":1393,"mtime":1610391451585,"results":"44","hashOfConfig":"36"},{"size":768,"mtime":1609875385986,"results":"45","hashOfConfig":"36"},{"size":2671,"mtime":1610390198964,"results":"46","hashOfConfig":"36"},{"size":1446,"mtime":1609721298046,"results":"47","hashOfConfig":"36"},{"size":2222,"mtime":1610390685232,"results":"48","hashOfConfig":"36"},{"size":81,"mtime":1609679592194,"results":"49","hashOfConfig":"36"},{"size":279,"mtime":1609679973993,"results":"50","hashOfConfig":"36"},{"size":479,"mtime":1609679972529,"results":"51","hashOfConfig":"36"},{"size":1100,"mtime":1610048031965,"results":"52","hashOfConfig":"36"},{"size":4411,"mtime":1610391614806,"results":"53","hashOfConfig":"36"},{"size":81,"mtime":1609795595994,"results":"54","hashOfConfig":"36"},{"size":3599,"mtime":1610377959689,"results":"55","hashOfConfig":"36"},{"size":791,"mtime":1610391487712,"results":"56","hashOfConfig":"36"},{"size":1298,"mtime":1610391942111,"results":"57","hashOfConfig":"36"},{"size":657,"mtime":1609679163959,"results":"58","hashOfConfig":"36"},{"size":87,"mtime":1609538681464,"results":"59","hashOfConfig":"36"},{"size":2268,"mtime":1609754892118,"results":"60","hashOfConfig":"36"},{"size":873,"mtime":1609754627365,"results":"61","hashOfConfig":"36"},{"size":75,"mtime":1609538881282,"results":"62","hashOfConfig":"36"},{"size":575,"mtime":1609531785691,"results":"63","hashOfConfig":"36"},{"size":494,"mtime":1609680128220,"results":"64","hashOfConfig":"36"},{"size":465,"mtime":1609975100751,"results":"65","hashOfConfig":"36"},{"size":343,"mtime":1610377558151,"results":"66","hashOfConfig":"36"},{"size":4641,"mtime":1609955562009,"results":"67","hashOfConfig":"36"},{"size":1138,"mtime":1610391878976,"results":"68","hashOfConfig":"36"},{"size":156,"mtime":1610389519239,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"73"},"t19lgf",{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"133"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomeContainer.tsx",["146","147","148"],"import { useMutation, useQuery } from '@apollo/client'\nimport React, { useEffect, useState } from 'react'\nimport { toast } from 'react-toastify'\nimport { storage } from '../../Firebase'\nimport { getAddress } from '../../Hooks/Geocoding'\nimport { ME } from '../../sharedquaries'\nimport {\n    GetFullPost,\n    GetFullPostVariables,\n    Me,\n    SearchUser,\n    SearchUserVariables,\n    UploadPost,\n    UploadPostVariables\n} from '../../types/api'\nimport HomePresenter from './HomePresenter'\nimport useInput from '../../Hooks/useInput'\nimport {\n    GET_FULL_POST,\n    SEARCH_USER,\n    UPLOAD_POST\n} from './HomeQueries'\n\ninterface IProps { }\n\nconst HomeContainer: React.FC<IProps> = () => {\n    const [me, setMe] = useState<any>();\n    const [flag, setFlag] = useState<boolean>(false);\n    const [images, setImages] = useState<any>()\n    const [caption, setCaption] = useInput(\"\")\n    const [imageUrl, setImageUrl] = useState<string[]>([]);\n    const [progress, setProgress] = useState(1);\n    const [page, setPage] = useState<number>(1);\n    const [term, termChange] = useInput(\"\")\n    const [posts, setPosts] = useState<any>();\n    const [searchedUser, setSearchedUser] = useState<any>()\n    const [lat, setLat] = useState<number>(0)\n    const [lng, setLng] = useState<number>(0)\n    const [location, setLocation] = useState<string>(\"\")\n\n    const { loading } = useQuery<Me>(ME, {\n        onCompleted: ({ Me }) => {\n            const { ok, err, user } = Me\n            if (ok && user) {\n                setMe(user);\n            } else if (err) {\n                toast.error(err);\n            }\n        }\n    })\n\n    useQuery<SearchUser, SearchUserVariables>(SEARCH_USER, {\n        skip: term === \"\",\n        variables: {\n            term\n        },\n        onCompleted: ({ SearchUser }) => {\n            const { ok, err, users } = SearchUser;\n            if (ok) {\n                if (users) {\n                    setSearchedUser(users);\n                }\n            } else {\n                console.log(err)\n            }\n        }\n    })\n\n    useQuery<GetFullPost, GetFullPostVariables>(GET_FULL_POST, {\n        fetchPolicy: \"network-only\",\n        variables: {\n            page: 1\n        },\n        onCompleted: ({ GetFullPost }) => {\n            const { ok, err, post } = GetFullPost;\n            if (ok && post) {\n                setPosts(post)\n            } else {\n                console.log(err)\n            }\n        }\n    })\n\n    const [UploadPostMutation] = useMutation<UploadPost, UploadPostVariables>(UPLOAD_POST, {\n        variables: {\n            caption,\n            location,\n            images: imageUrl\n        }, onCompleted: v => console.log(v, \"mutation\")\n    })\n\n    const handleUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n        event.preventDefault()\n        if (event.target && event.target.files) {\n            if (event.target !== null && event.target.files && event.target.files.length !== null) {\n                setImages(event.target.files)\n                setFlag(true);\n            }\n        }\n    }\n\n    useEffect(() => {\n        if (flag && me && images) {\n            for (let i = 0; i < images.length; i++) {\n                let uploadTask = storage\n                    .ref(`/${me.username}/images/${images[i].name}`)\n                    .put(images[i]);\n                uploadTask.on(\n                    \"state_changed\",\n                    (snapshot) => {\n                        const percentUploaded = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\n                        setProgress(percentUploaded)\n                    },\n                    (err) => { console.log(err) },\n                    () => {\n                        storage.ref(`/${me.username}/images/`)\n                            .child(`${images[i].name}`)\n                            .getDownloadURL()\n                            .then((url) => {\n                                console.log(url)\n                                setImageUrl(prev => [...prev, url])\n                            })\n                    }\n                )\n            }\n        }\n    }, [flag, me, images])\n\n    useEffect(() => {\n        navigator.geolocation.getCurrentPosition((pos) => {\n            if (pos && pos.coords) {\n                setLat(pos.coords.latitude);\n                setLng(pos.coords.longitude)\n            }\n        })\n    }, [setLat, setLng])\n\n\n    useEffect(() => {\n        if (lat !== 0 && lng !== 0) {\n            getAddress(lat, lng, setLocation);\n        }\n    }, [lat, lng, setLocation])\n\n    const handlePost = async () => {\n        if (!imageUrl && caption === \"\") {\n            toast.error(\"You need to upload any photo and caption\")\n        } else if (imageUrl && caption) {\n            console.log(\"came?\")\n            await UploadPostMutation();\n        }\n    }\n\n\n    if (loading || me === undefined) {\n        return (<>Loading...</>)\n    } else {\n        return (\n            <HomePresenter me={me}\n                term={term}\n                termChange={termChange}\n                posts={posts}\n                imageUrl={imageUrl}\n                flag={flag}\n                setImageUrl={setImageUrl}\n                progress={progress}\n                handleUpload={handleUpload}\n                caption={caption}\n                setCaption={setCaption}\n                UploadPostMutation={UploadPostMutation}\n                handlePost={handlePost}\n            />\n        )\n    }\n}\n\nexport default HomeContainer",["149","150"],"/Users/jinchulpark/react/jinstagram-client/src/Apollo/apollo.ts",[],["151","152"],"/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthHomeContainer.tsx",[],["153","154"],"/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomeQueries.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Hooks/Geocoding.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthHomePresenter.tsx",[],["155","156"],"/Users/jinchulpark/react/jinstagram-client/src/Firebase/index.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/index.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/Header/HeaderPresenter.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/Header/HeaderStyles.ts",[],["157","158"],"/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxStyles.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthHomeQueries.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomePresenter.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/Footer/index.ts",[],["159","160"],"/Users/jinchulpark/react/jinstagram-client/src/Components/Footer/FooterPresenter.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/Footer/FooterStyles.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/HomeStyles.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxPresenter.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/Header/index.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxContainer.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/Routes.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/sharedquaries.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Styles/Theme.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/index.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/AuthHome/AuthStyles.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/App.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/Home/index.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Apollo/authResolvers.ts",[],["161","162"],"/Users/jinchulpark/react/jinstagram-client/src/Hooks/useInput.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/key.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/FeedBox/FeedBoxQueries.ts",[],"/Users/jinchulpark/react/jinstagram-client/src/Components/Icon.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/Profile/ProfileContainer.tsx",[],"/Users/jinchulpark/react/jinstagram-client/src/Routes/Profile/ProfilePresenter.tsx",[],{"ruleId":"163","severity":1,"message":"164","line":33,"column":12,"nodeType":"165","messageId":"166","endLine":33,"endColumn":16},{"ruleId":"163","severity":1,"message":"167","line":33,"column":18,"nodeType":"165","messageId":"166","endLine":33,"endColumn":25},{"ruleId":"163","severity":1,"message":"168","line":36,"column":12,"nodeType":"165","messageId":"166","endLine":36,"endColumn":24},{"ruleId":"169","replacedBy":"170"},{"ruleId":"171","replacedBy":"172"},{"ruleId":"169","replacedBy":"173"},{"ruleId":"171","replacedBy":"174"},{"ruleId":"169","replacedBy":"175"},{"ruleId":"171","replacedBy":"176"},{"ruleId":"169","replacedBy":"177"},{"ruleId":"171","replacedBy":"178"},{"ruleId":"169","replacedBy":"179"},{"ruleId":"171","replacedBy":"180"},{"ruleId":"169","replacedBy":"181"},{"ruleId":"171","replacedBy":"182"},{"ruleId":"169","replacedBy":"183"},{"ruleId":"171","replacedBy":"184"},"@typescript-eslint/no-unused-vars","'page' is assigned a value but never used.","Identifier","unusedVar","'setPage' is assigned a value but never used.","'searchedUser' is assigned a value but never used.","no-native-reassign",["185"],"no-negated-in-lhs",["186"],["185"],["186"],["185"],["186"],["185"],["186"],["185"],["186"],["185"],["186"],["185"],["186"],"no-global-assign","no-unsafe-negation"]